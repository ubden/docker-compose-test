version: "3.9"

services:
  next-app:
    container_name: next-app
    build:
      context: ./next-app
      dockerfile: prod.Dockerfile
      args:
        ENV_VARIABLE: ${ENV_VARIABLE}
        NEXT_PUBLIC_ENV_VARIABLE: ${NEXT_PUBLIC_ENV_VARIABLE}
    restart: unless-stopped
    expose:
      - "3000"   # dış port açma, NPM bu iç porta yönlendirecek
    networks:
      - proxy-bridge
    environment:
      - TZ=Europe/Istanbul

networks:
  proxy-bridge:
    external: true
